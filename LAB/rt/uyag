import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/Lab3ProServlet")
public class Lab3ProServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;

    public Lab3ProServlet() {
        super();
    }

    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        PrintWriter out = response.getWriter();
        try {
            int number1 = Integer.parseInt(request.getParameter("sub1"));
            int number2 = Integer.parseInt(request.getParameter("sub2"));
            int number3 = Integer.parseInt(request.getParameter("sub3"));
            int number4 = Integer.parseInt(request.getParameter("sub4"));
            int number5 = Integer.parseInt(request.getParameter("sub5"));
            int number6 = Integer.parseInt(request.getParameter("prac1"));
            int number7 = Integer.parseInt(request.getParameter("prac2"));

            int Result = number1 + number2 + number3 + number4 + number5 + number6 + number7;
            float percent = (Result / 7.0f);

            out.println("<table border=1>");
            out.println("<tr>");
            String name = request.getParameter("name");
            out.println("<td colspan=7>" + "Name: " + name + "</td>");
            out.println("</tr>");

            out.println("<tr><td>Subject 1 marks: " + number1 + "</td></tr>");
            out.println("<tr><td>Subject 2 marks: " + number2 + "</td></tr>");
            out.println("<tr><td>Subject 3 marks: " + number3 + "</td></tr>");
            out.println("<tr><td>Subject 4 marks: " + number4 + "</td></tr>");
            out.println("<tr><td>Subject 5 marks: " + number5 + "</td></tr>");
            out.println("<tr><td>Practical 1 marks: " + number6 + "</td></tr>");
            out.println("<tr><td>Practical 2 marks: " + number7 + "</td></tr>");

            out.println("<tr>");
            out.println("<td colspan=7>Sum of marks: " + Result + " + Result</td>");
            out.println("</tr>");

            out.println("<tr>");
            out.println("<td colspan=7>Percentage: " + percent + "</td>");
            out.println("</tr>");
            out.println("</table>");
        } catch (Exception e) {
            out.println("Number format Exception");
        }
    }
}